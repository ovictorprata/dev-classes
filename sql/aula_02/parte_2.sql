DROP DATABASE cinepolis;
CREATE DATABASE cinepolis;
USE cinepolis;

CREATE TABLE filmes (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(100),
    diretor VARCHAR(100),
    ano_lancamento INT
);


CREATE TABLE personagens (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(100),
    filme_id INT,
    idade INT,
    esta_morto BOOLEAN,
    eh_superheroi BOOLEAN,
    FOREIGN KEY (filme_id) REFERENCES filmes(id)
);

CREATE TABLE IF NOT EXISTS clientes (
    id INT AUTO_INCREMENT PRIMARY KEY,
    personagem_id INT,
    FOREIGN KEY (personagem_id) REFERENCES personagens(id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vendedores (
    id INT AUTO_INCREMENT PRIMARY KEY,
    personagem_id INT,
    comissao DECIMAL(5, 2), 
    FOREIGN KEY (personagem_id) REFERENCES personagens(id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS produtos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(255),
    tipo VARCHAR(255),
    preco DECIMAL(10, 2)
);

CREATE TABLE IF NOT EXISTS vendas (
    id INT AUTO_INCREMENT PRIMARY KEY,
    cliente_id INT,
    vendedor_id INT,
    produto_id INT,
    quantidade_vendida INT NOT NULL,
    data_venda DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (cliente_id) REFERENCES clientes(id) ON DELETE CASCADE,
    FOREIGN KEY (vendedor_id) REFERENCES vendedores(id) ON DELETE CASCADE,
    FOREIGN KEY (produto_id) REFERENCES produtos(id) ON DELETE CASCADE
);



-- Filmes
INSERT INTO filmes (nome, diretor, ano_lancamento) VALUES
('Divertida Mente', 'Pete Docter', 2015),
('Frozen', 'Chris Buck, Jennifer Lee', 2013),
('Kung Fu Panda', 'Mark Osborne, John Stevenson', 2008),
('Shrek', 'Andrew Adamson, Vicky Jenson', 2001),
('Branca de Neve e os Sete Anões', 'David Hand', 1937),
('Rei Leão', 'Roger Allers, Rob Minkoff', 1994),
('Madagascar', 'Eric Darnell, Tom McGrath', 2005),
('A Era do Gelo', 'Chris Wedge', 2002),
('Os Incríveis', 'Brad Bird', 2004),
('Toy Story', 'John Lasseter', 1995),
('Vingadores', 'Joss Whedon', 2012),
('Minha Mãe é uma Peça', 'Andresene Giamatti', 2013),
('O Auto da Compadecida', 'Guel Arraes', 2000),
('Tropa de Elite', 'José Padilha', 2007),
('Se Eu Fosse Você', 'Daniel Filho', 2006),
('Cidade de Deus', 'Fernando Meirelles', 2002);


INSERT INTO personagens (nome, filme_id, idade, esta_morto, eh_superheroi) VALUES

('Shifu', 3, 60, FALSE, FALSE),
('Zé Pequeno', 16, 25, TRUE, FALSE),
('Fiona', 4, 30, FALSE, FALSE),
('Homem de Ferro', 11, 42, TRUE, TRUE),
('Diego', 8, 27, FALSE, FALSE),
('Shrek', 4, 35, FALSE, FALSE),
('Tristeza', 1, 33, FALSE, FALSE),
('Scrat', 8, 15, FALSE, FALSE),
('Gelado', 9, 42, FALSE, TRUE),
('Cláudio', 15, 45, FALSE, FALSE),
('Tai Lung', 3, 35, FALSE, FALSE),
('Kristoff', 2, 21, FALSE, FALSE),
('Bené', 16, 23, TRUE, FALSE),
('Thor', 11, 1500, FALSE, TRUE),
('Nossa Senhora', 13, 2000, FALSE, FALSE),
('Zangado', 5, 53, FALSE, FALSE),
('Hans', 2, 23, FALSE, FALSE),
('Alegria', 1, 33, FALSE, FALSE),
('Gato de Botas', 4, 8, FALSE, FALSE),
('Riley', 1, 11, FALSE, FALSE),
('Sven', 2, 8, FALSE, FALSE),
('Baiano', 14, 30, TRUE, FALSE),
('Nojinho', 1, 33, FALSE, FALSE),
('Scar', 6, 13, TRUE, FALSE),
('Anna', 2, 18, FALSE, FALSE),
('Mestre', 5, 55, FALSE, FALSE),
('Po', 3, 20, FALSE, FALSE),
('Dunga', 5, 50, FALSE, FALSE),
('Mufasa', 6, 12, TRUE, FALSE),
('Juliano', 12, 25, FALSE, FALSE),
('Matias', 14, 27, FALSE, FALSE),
('Andy', 10, 8, FALSE, FALSE),
('Helena', 15, 40, FALSE, FALSE),
('Branca de Neve', 5, 14, FALSE, FALSE),
('Violeta', 9, 14, FALSE, TRUE),
('João Grilo', 13, 30, FALSE, FALSE),
('Flecha', 9, 10, FALSE, TRUE),
('Marty', 7, 10, FALSE, FALSE),
('Síndrome', 9, 25, TRUE, FALSE),
('Lorde Farquaad', 4, 45, TRUE, FALSE),
('Macaco', 3, 28, FALSE, FALSE),
('Melman', 7, 11, FALSE, FALSE),
('Capitão América', 11, 100, FALSE, TRUE),
('Tigresa', 3, 25, FALSE, FALSE),
('Sid', 8, 25, FALSE, FALSE),
('Gloria', 7, 11, FALSE, FALSE),
('Rei Julien', 7, 9, FALSE, FALSE),
('Viúva Negra', 11, 35, TRUE, TRUE),
('Marcelina', 12, 23, FALSE, FALSE),
('Olaf', 2, 1, FALSE, FALSE),
('Buscapé', 16, 18, FALSE, FALSE),
('Chicó', 13, 29, FALSE, FALSE),
('Mestre Oogway', 3, 1000, TRUE, FALSE),
('Pumba', 6, 7, FALSE, FALSE),
('Raiva', 1, 33, FALSE, FALSE),
('Woody', 10, 35, FALSE, FALSE),
('Alex', 7, 10, FALSE, FALSE),
('Bing Bong', 1, 6, TRUE, FALSE),
('Dona Hermínia', 12, 60, FALSE, FALSE),
('Manny', 8, 30, FALSE, FALSE),
('Burro', 4, 28, FALSE, FALSE),
('Hulk', 11, 45, FALSE, TRUE),
('Capitão Nascimento', 14, 35, FALSE, FALSE),
('Simba', 6, 5, FALSE, FALSE),
('Rainha Má', 5, 40, TRUE, FALSE),
('Elsa', 2, 21, FALSE, FALSE),
('Sr. Incrível', 9, 40, FALSE, TRUE),
('Gavião Arqueiro', 11, 40, FALSE, TRUE),
('Timão', 6, 6, FALSE, FALSE),
('Mulher-Elástica', 9, 38, FALSE, TRUE),
('Buzz Lightyear', 10, 30, FALSE, FALSE),
('Sr. Cabeça de Batata', 10, 45, FALSE, FALSE),
('Medo', 1, 33, FALSE, FALSE);



-- Tabela de vendedores com personagens únicos e comissões aleatórias
INSERT INTO vendedores (personagem_id, comissao) VALUES
(3, 60.00),  
(16, 25.00), 
(4, 30.00),  
(11, 42.00), 
(8, 27.00),  
(6, 35.00),  
(1, 33.00),  
(9, 15.00),  
(2, 42.00),  
(15, 45.00), 
(12, 35.00), 
(7, 21.00),  
(13, 23.00), 
(14, 15.00),
(10, 20.00),
(5, 53.00),  
(19, 23.00), 
(18, 33.00), 
(20, 8.00),  
(21, 11.00), 
(22, 8.00),  
(23, 30.00), 
(24, 33.00), 
(25, 13.00), 
(26, 18.00), 
(27, 55.00), 
(28, 20.00), 
(29, 50.00), 
(30, 12.00), 
(31, 25.00), 
(32, 27.00), 
(33, 8.00),  
(34, 40.00), 
(35, 14.00), 
(36, 14.00), 
(37, 30.00), 
(38, 10.00), 
(39, 10.00), 
(40, 25.00); 


-- Inserir 40 Produtos (itens consumidos, usados ou vestíveis pelos personagens)
INSERT INTO produtos (nome, tipo, preco) VALUES
('Memórias da Riley', 'Lembrança', 50.00),
('Vela de Cera do Shrek', 'Decoração', 19.99),
('Gelo da Elsa', 'Item mágico', 10.00),
('Chapéu do Gato de Botas', 'Acessório', 40.00),
('Chocolate do Olaf', 'Alimento', 5.00),
('Alface do Pumba', 'Alimento', 3.00),
('Sopa do Po', 'Alimento', 12.99),
('Arroz do Tigresa', 'Alimento', 7.50),
('Pizza do Woody', 'Alimento', 15.00),
('Bife do Simba', 'Alimento', 25.00),
('Bolo de Chocolate da Branca de Neve', 'Alimento', 20.00),
('Pipoca do Gato de Botas', 'Alimento', 8.00),
('Coca-Cola do Buzz Lightyear', 'Bebida', 3.50),
('Lanche do Melman', 'Alimento', 10.00),
('Biscoito da Alegria', 'Alimento', 7.00),
('Cabelo do Shrek', 'Souvenir', 15.00),
('Óculos do Homem de Ferro', 'Acessório', 200.00),
('Tênis do Senhor Incrível', 'Vestuário', 50.00),
('Roupas de Mulher-Elástica', 'Vestuário', 120.00),
('Hambúrguer do Sid', 'Alimento', 5.50),
('Café do Capitão América', 'Bebida', 2.50),
('Peixe do Melman', 'Alimento', 6.00),
('Hamburguer do Rei Julien', 'Alimento', 8.50),
('Poção da Tristeza', 'Item mágico', 15.00),
('Cerveja do Buscapé', 'Bebida', 4.00),
('Bolo de Maçã da Branca de Neve', 'Alimento', 18.00),
('Churrasco do Mufasa', 'Alimento', 35.00),
('Especiarias do Tigresa', 'Tempero', 10.99),
('Pudim do Pumba', 'Alimento', 7.50),
('Lanche do Zé Pequeno', 'Alimento', 9.00),
('Chá da Raiva', 'Bebida', 4.50),
('Pizza do Capitão Nascimento', 'Alimento', 12.00),
('Cachorro-Quente do Woody', 'Alimento', 3.99),
('Almoço do Sid', 'Alimento', 10.50),
('Vinho do Senhor Incrível', 'Bebida', 25.00),
('Bolinho de Arroz do Olaf', 'Alimento', 8.00),
('Carne do Scar', 'Alimento', 30.00),
('Chá do Gavião Arqueiro', 'Bebida', 5.50),
('Sanduíche do Gato de Botas', 'Alimento', 7.00),
('Brinquedo do Buzz Lightyear', 'Brinquedo', 12.00),
('Fruta do Simba', 'Alimento', 4.00),
('Bala do Andy', 'Alimento', 1.00),
('Carne do Tigresa', 'Alimento', 20.00),
('Lanche do Macaco', 'Alimento', 5.00),
('Bolacha do Olaf', 'Alimento', 2.50);

-- Tabela de clientes com personagens únicos
INSERT INTO clientes (personagem_id) VALUES
(3),  
(16), 
(4),  
(11), 
(8),  
(6),  
(1),  
(9),  
(2),  
(15), 
(12), 
(7),  
(13), 
(14), 
(10), 
(5),  
(19), 
(18), 
(20), 
(21), 
(22), 
(23), 
(24), 
(25), 
(26), 
(27), 
(28), 
(29), 
(30), 
(31); 

-- Inserir mais 40 vendas com dados aleatórios
INSERT INTO vendas (cliente_id, vendedor_id, produto_id, quantidade_vendida, data_venda) VALUES
(12, 7, 3, 5, '2021-12-07 10:30:00'),
(3, 9, 10, 8, '2020-08-01 14:50:00'),
(27, 4, 21, 3, '2022-03-10 18:00:00'),
(2, 15, 14, 12, '2020-11-11 10:45:00'),
(1, 28, 19, 2, '2023-01-28 17:10:00'),
(6, 20, 7, 9, '2021-06-14 16:35:00'),
(25, 16, 32, 1, '2022-10-10 11:25:00'),
(4, 11, 5, 3, '2022-09-22 09:00:00'),
(22, 10, 33, 4, '2021-04-02 13:40:00'),
(16, 6, 2, 7, '2021-08-19 11:00:00'),
(30, 21, 11, 5, '2020-02-27 15:20:00'),
(5, 12, 28, 6, '2022-05-23 19:10:00'),
(18, 13, 30, 1, '2021-09-13 08:30:00'),
(9, 3, 22, 8, '2022-07-30 16:25:00'),
(23, 17, 40, 3, '2021-12-14 14:45:00'),
(10, 19, 1, 2, '2020-06-13 13:10:00'),
(13, 26, 25, 10, '2023-02-15 11:50:00'),
(17, 4, 27, 6, '2020-05-19 16:40:00'),
(28, 8, 16, 4, '2021-02-03 09:30:00'),
(8, 29, 31, 5, '2022-04-16 10:10:00'),
(14, 22, 24, 3, '2021-10-04 18:00:00'),
(11, 23, 13, 6, '2022-07-22 14:25:00'),
(7, 25, 15, 2, '2020-11-02 11:55:00'),
(26, 27, 12, 5, '2020-12-01 17:30:00'),
(19, 12, 9, 7, '2021-08-29 15:40:00'),
(24, 14, 6, 9, '2022-10-18 13:30:00'),
(20, 18, 38, 4, '2023-02-05 19:20:00'),
(21, 30, 17, 8, '2020-07-12 16:00:00'),
(15, 13, 23, 12, '2022-11-20 10:50:00'),
(12, 20, 34, 6, '2021-04-12 14:15:00'),
(29, 5, 36, 10, '2022-01-25 09:30:00'),
(3, 10, 4, 7, '2020-03-18 15:50:00'),
(13, 6, 19, 9, '2021-07-09 17:00:00'),
(26, 17, 8, 5, '2021-12-19 13:10:00'),
(8, 15, 11, 3, '2022-10-30 12:40:00'),
(18, 22, 18, 2, '2021-09-16 10:00:00'),
(7, 3, 40, 4, '2022-06-21 14:30:00'),
(17, 14, 30, 1, '2021-12-03 16:15:00'),
(2, 8, 33, 7, '2020-09-09 19:00:00'),
(19, 6, 5, 5, '2023-01-19 13:50:00'),
(1, 24, 2, 8, '2020-12-18 09:30:00'),
(21, 30, 32, 4, '2022-02-22 14:00:00'),
(12, 5, 14, 3, '2021-10-14 10:20:00'),
(4, 18, 1, 100, '2023-01-15 10:30:00'), 
(9, 22, 5, 40, '2022-11-20 11:00:00'),  
(12, 16, 13, 35, '2022-05-03 14:20:00'), 
(15, 7, 25, 10, '2023-02-10 17:45:00'),
(2, 8, 9, 2, '2023-03-01 10:30:00'),
(5, 12, 9, 3, '2023-02-21 12:15:00'),
(8, 17, 9, 1, '2023-01-18 14:30:00'),
(10, 5, 9, 2, '2022-12-10 11:00:00'),
(11, 6, 9, 1, '2023-04-02 16:00:00'),
(15, 4, 9, 4, '2023-03-10 09:45:00'),
(17, 3, 9, 1, '2023-02-28 15:30:00'),
(19, 14, 9, 3, '2023-01-25 13:00:00'),
(21, 18, 9, 2, '2023-03-04 10:20:00'),
(23, 20, 9, 5, '2023-02-17 11:50:00'),
(24, 15, 9, 1, '2023-03-08 09:00:00');
